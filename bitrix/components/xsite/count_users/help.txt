Компонент выводит количество гостей и посетителей online. Учет гостей осуществляется двумя способами: по ip и по уникальной сессии.
То есть фактически мы пользуемся двумя определениями уникальности:
1) "Под термином сессия в системе 1C-Битрикс: Управление сайтом понимается сессия PHP. Сессия может открываться в момент захода на сайт и закрывается при закрытии окна браузера. Также новая сессия открывается при авторизации посетителя и закрывается, если закончить сеанс авторизации (разлогиниться). Синонимом термина сессия можно считать термин заход. Другими словами, сессия - один визит на сайт."
2) "Термин хост означает IP-адрес посетителя сайта."

Пример вызова компонента:

<?
$APPLICATION->IncludeComponent(
	"bitrix:count_users",
	"",
	Array(
		"TYPE_UNIQUENESS" => "SESSION",
		"SESSION_TIMEOUT" => "120",
	),
false
);
?>

Описание ключей:

TYPE_UNIQUENESS -- Способ определения уникального гостя. Два варианта: IP - по айпи посетителя, SESSION (по умолчанию) - по уникальной сессии.
SESSION_TIMEOUT -- Время бездействия пользователя на сайте, после которого его считать неактивным (в секундах). По умолчанию 120.

Пример массива, содержащего результат работы компонента ($arResult):

Array
(
    [USERS] => Array
        (
            [0] => Array
                (
                    [fixed_session_id] => a44db08995691514c5bdaa2392484041
                    [SESS_IP] => 83.149.3.141
                )

            [1] => Array
                (
                    [fixed_session_id] => 9865e964aebe6b5f969174f557c57416
                    [SESS_IP] => 67.195.115.219
                )

            [2] => Array
                (
                    [fixed_session_id] => 7363087097e27e1f686d0986bb7926df
                    [SESS_IP] => 77.88.18.7
                )

            [3] => Array
                (
                    [fixed_session_id] => 4fca3cdc9930552a34501f786991fca3
                    [SESS_IP] => 79.137.161.7
                )

        )

    [USERS_AUTH] => Array
        (
            [0] => Array
                (
                    [ID] => 1
                    [fixed_session_id] => dbc8d28a79dbda9d2f0344835b9d20c3
                    [SESS_IP] => 89.178.56.116
                )

        )

)


Разработчик:
Лаврушин Алексей

По всем вопросам и предложениям:  vbngh1989@gmail.com